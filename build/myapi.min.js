/*
* myapi v.1.0.0
*/
(function() {
var exports = {};
!function(a,b){b.myapi=a,function(){var a={},b=function(){var b="http://localhost:3000/v1",d={},f=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},g=function(a){return a.replace(/^\/?(.*?)\/?$/,"$1")},h=function(a){return a=p(a)||a,a=f(a)};return d.all=function(a){return function(d){var f=c(),g={};return g.credentials=true,g.url=u({baseUrl:b}).resource(a).params(d).toUrl(),g.success=f.resolve,g.error=f.reject,e.get(g),f.promise}},d.create=function(a){return function(d,f){var g=c(),h={};return h.credentials=true,h.url=u({baseUrl:b}).resource(a).params(f).toUrl(),h.data=d,h.success=g.resolve,h.error=g.reject,e.post(h),g.promise}},d.get=function(a){return function(d,f){var g=c(),h={};return h.credentials=true,h.url=u({baseUrl:b}).resource(a,d).params(f).toUrl(),h.success=g.resolve,h.error=g.reject,e.get(h),g.promise}},d.update=function(a){return function(d,f,g){var h=c(),i={};return i.credentials=true,i.url=u({baseUrl:b}).resource(a,d).params(g).toUrl(),i.data=f,i.success=h.resolve,i.error=h.reject,e.put(i),h.promise}},d.delete=function(a){return function(d,f){var g=c(),h={};return h.credentials=true,h.url=u({baseUrl:b}).resource(a,d).params(f).toUrl(),h.success=g.resolve,h.error=g.reject,e.delete(h),g.promise}},d.count=function(a){return function(d){var f=c(),g={};return g.credentials=true,g.url=u({baseUrl:b}).resource(a).resource("count").params(d).toUrl(),g.success=f.resolve,g.error=f.reject,e.get(g),f.promise}},d.exists=function(a){return function(d){var f=c(),g={};return g.credentials=true,g.url=u({baseUrl:b}).resource(a).resource("exists").params(d).toUrl(),g.success=f.resolve,g.error=f.reject,e.get(g),f.promise}},function(b,c){var e=c.methods;e||(e="all create get update delete exists count"),"string"==typeof e&&(e=e.split(" ")),console.log("methods",c.name,e);var i,j,k=c.name;if(k){k=g(k);var l=g(c.baseUrl||"")+"/",m=l+g(c.url||"")||k;for(i=0;i<e.length;i++)if(j=e[i],d.hasOwnProperty(j))if("camel"===c.syntax)switch(j){case"all":c.methods&&c.methods.hasOwnProperty(j)?b[c.methods[j].name]=d[j](m):b["get"+f(k)]=d[j](m);break;case"create":case"update":case"get":case"delete":c.methods&&c.methods.hasOwnProperty(j)?b[c.methods[j].name]=d[j](m):b[j+h(k)]=d[j](m);break;case"count":c.methods&&c.methods.hasOwnProperty(j)?b[c.methods[j].name]=d[j](k):b["get"+h(k)+"Count"]=d.get(m);break;case"exists":c.methods&&c.methods.hasOwnProperty(j)?b[c.methods[j].name]=d[j](k):b["get"+h(k)+"Exists"]=d.get(m);break;default:b[j+f(k)]=d[j](m)}else b[k]=b[k]||{},b[k][j]=d[j](m)}else{var n;e=c.methods;for(j in e)if(e.hasOwnProperty(j))switch(n=e[j],n.type.toUpperCase()){case"POST":a[j]=d.create(j);break;case"GET":a[j]=d.all(j);break;case"PUT":a[j]=d.update(j);break;case"DELETE":a[j]=d.delete(j)}}}}(),c=function(a){function b(a){j(function(){throw a})}function c(b){return this.then(b,a)}function d(b){return this.then(a,b)}function e(b,c){return this.then(function(a){return k(b)?b.apply(null,l(a)?a:[a]):t.onlyFuncs?a:b},c||a)}function f(a){function b(){a()}return this.then(b,b),this}function g(a){return this.then(function(b){return k(a)?a.apply(null,l(b)?b.splice(0,0,void 0)&&b:[void 0,b]):t.onlyFuncs?b:a},function(b){return a(b)})}function h(c){return this.then(a,c?function(a){throw c(a),a}:b)}function i(a,b){var c=o(a);if(1===c.length&&l(c[0])){if(!c[0].length)return t.fulfilled([]);c=c[0]}var d=[],e=t(),f=c.length;if(f)for(var g=(function(a){c[a]=t.promisify(c[a]),c[a].then(function(g){a in d||(d[a]=b?c[a]:g,--f||e.resolve(d))},function(g){a in d||(b?(d[a]=c[a],--f||e.resolve(d)):e.reject(g))})}),h=0,i=f;i>h;h++)g(h);else e.resolve(d);return e.promise}var j,k=function(a){return"function"==typeof a},l=function(a){return Array.isArray?Array.isArray(a):a instanceof Array},m=function(a){return!(!a||!(typeof a).match(/function|object/))},n=function(b){return b===!1||b===a||null===b},o=function(a,b){return[].slice.call(a,b)},p="undefined",q=typeof TypeError===p?Error:TypeError;if(typeof process!==p&&process.nextTick)j=process.nextTick;else if(typeof MessageChannel!==p){var r=new MessageChannel,s=[];r.port1.onmessage=function(){s.length&&s.shift()()},j=function(a){s.push(a),r.port2.postMessage(0)}}else j=function(a){setTimeout(a,0)};var t=function(b){function i(){if(0!==s){var a,b=u,c=0,d=b.length,e=~s?0:1;for(u=[];d>c;c++)(a=b[c][e])&&a(p)}}function l(a){function b(a){return function(b){return c?void 0:(c=!0,a(b))}}var c=!1;if(s)return this;try{var d=m(a)&&a.then;if(k(d)){if(a===v)throw new q("Promise can't resolve itself");return d.call(a,b(l),b(o)),this}}catch(e){return b(o)(e),this}return r(function(){p=a,s=1,i()}),this}function o(a){return s||r(function(){try{throw a}catch(b){p=b}s=-1,i()}),this}var p,r=(a!==b?b:t.alwaysAsync)?j:function(a){a()},s=0,u=[],v={then:function(a,b){var c=t();return u.push([function(b){try{c.resolve(n(a)?b:k(a)?a(b):t.onlyFuncs?b:a)}catch(d){c.reject(d)}},function(a){if((n(b)||!k(b)&&t.onlyFuncs)&&c.reject(a),b)try{c.resolve(k(b)?b(a):b)}catch(d){c.reject(d)}}]),0!==s&&r(i),c.promise},success:c,error:d,otherwise:d,apply:e,spread:e,ensure:f,nodify:g,rethrow:h,isPending:function(){return!(0!==s)},getStatus:function(){return s}};return v.toSource=v.toString=v.valueOf=function(){return p===a?this:p},{promise:v,resolve:l,fulfill:l,reject:o}};return t.deferred=t.defer=t,t.nextTick=j,t.alwaysAsync=!0,t.onlyFuncs=!0,t.resolved=t.fulfilled=function(a){return t(!0).resolve(a).promise},t.rejected=function(a){return t(!0).reject(a).promise},t.wait=function(a){var b=t();return setTimeout(b.resolve,a||0),b.promise},t.delay=function(a,b){var c=t();return setTimeout(function(){try{c.resolve(a.apply(null))}catch(b){c.reject(b)}},b||0),c.promise},t.promisify=function(a){return a&&k(a.then)?a:t.resolved(a)},t.all=function(){return i(arguments,!1)},t.resolveAll=function(){return i(arguments,!0)},t.nodeCapsule=function(a,b){return b||(b=a,a=void 0),function(){var c=t(),d=o(arguments);d.push(function(a,b){a?c.reject(a):c.resolve(arguments.length>2?o(arguments,1):b)});try{b.apply(a,d)}catch(e){c.reject(e)}return c.promise}},t}(),d=function(a,b,c){function d(a,b){var c,d;d=i[a],d&&(b?(c=d.indexOf(b),-1!==c&&d.splice(c,1)):d.length=0)}function e(a,b){return i[a]=i[a]||[],i[a].push(b),function(){d(a,b)}}function f(c,f){function g(){d(c,g),f.apply(b||a,arguments)}return e(c,g)}function g(b,c){return b&&b.apply(a,c)}function h(a){if(i[a])for(var b=0,c=i[a],d=c.length;d>b;)g(c[b],arguments),b+=1}var i={};b&&c?(a.on=b[c.on]&&b[c.on].bind(b),a.off=b[c.off]&&b[c.off].bind(b),a.once=b[c.once]&&b[c.once].bind(b),a.fire=b[c.dispatch].bind(b)):(a.on=e,a.off=d,a.once=f,a.fire=h)},e=function(){function a(a){this.init(a)}function b(a){for(var b,c=a.split("\n"),d={},e=0,f=c.length;f>e;)b=c[e].split(": "),b[0]&&b[1]&&(b[0]=b[0].split("-").join("").split(""),b[0][0]=b[0][0].toLowerCase(),d[b[0].join("")]=b[1]),e+=1;return d}function c(a,b){for(var d in b)b.hasOwnProperty(d)&&void 0===a[d]&&("object"==typeof b[d]?(a[d]={},c(a[d],b[d])):a[d]=b[d]);return a}var d=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},e=window,f=function(){var a;return e.XMLHttpRequest&&"withCredentials"in new e.XMLHttpRequest?a=e.XMLHttpRequest:e.XDomainRequest&&(a=e.XDomainRequest),a}(),g=["head","get","post","put","delete"],h=0,i=g.length,j={};for(a.prototype.init=function(a){var b=this;return b.xhr=new f,b.method=a.method,b.url=a.url,b.success=a.success,b.error=a.error,b.data=a.data,b.headers=a.headers,a.credentials===!0&&(b.xhr.withCredentials=!0),b.send(),b},a.prototype.send=function(){var a=this;if("GET"===a.method&&a.data){var c=a.url.indexOf("?")>-1?"&":"?";a.url+=c+d(a.data)}else a.data=JSON.stringify(a.data);return void 0!==a.success&&(a.xhr.onload=function(){var c=b(this.getAllResponseHeaders()),d=this.responseText;c.contentType&&-1!==c.contentType.indexOf("application/json")&&(d=JSON.parse(d)),a.success.call(this,{data:d,request:{method:a.method,url:a.url,data:a.data,headers:a.headers},headers:c,status:this.status})}),void 0!==a.error&&(a.xhr.error=function(){a.error.call(this,this.responseText)}),a.xhr.open(a.method,a.url,!0),void 0!==a.headers&&a.setHeaders(),a.xhr.send(a.data,!0),a},a.prototype.setHeaders=function(){var a,b=this,c=b.headers;for(a in c)c.hasOwnProperty(a)&&b.xhr.setRequestHeader(a,c[a]);return b},h;i>h;h+=1)!function(){var b=g[h];j[b]=function(d,e){var f={};if(void 0===d)throw new Error("CORS: url must be defined");return"object"==typeof d?f=d:("function"==typeof e&&(f.success=e),f.url=d),f.method=b.toUpperCase(),c(f,j.defaults),new a(f).xhr}}();return j.defaults={headers:{}},j}(),f={plurals:[],singulars:[],uncountables:[],humans:[]},g=f.plurals,h=f.singulars,i=f.uncountables,j=f.humans,k=function(a,b){f.plurals.unshift([a,b])},l=function(a,b){f.singulars.unshift([a,b])},m=function(a){f.uncountables.unshift(a)},n=function(a,b){a.substr(0,1).toUpperCase()===b.substr(0,1).toUpperCase()?(k(new RegExp("("+a.substr(0,1)+")"+a.substr(1)+"$","i"),"$1"+b.substr(1)),k(new RegExp("("+b.substr(0,1)+")"+b.substr(1)+"$","i"),"$1"+b.substr(1)),l(new RegExp("("+b.substr(0,1)+")"+b.substr(1)+"$","i"),"$1"+a.substr(1))):(k(new RegExp(a.substr(0,1).toUpperCase()+a.substr(1)+"$"),b.substr(0,1).toUpperCase()+b.substr(1)),k(new RegExp(a.substr(0,1).toLowerCase()+a.substr(1)+"$"),b.substr(0,1).toLowerCase()+b.substr(1)),k(new RegExp(b.substr(0,1).toUpperCase()+b.substr(1)+"$"),b.substr(0,1).toUpperCase()+b.substr(1)),k(new RegExp(b.substr(0,1).toLowerCase()+b.substr(1)+"$"),b.substr(0,1).toLowerCase()+b.substr(1)),l(new RegExp(b.substr(0,1).toUpperCase()+b.substr(1)+"$"),a.substr(0,1).toUpperCase()+a.substr(1)),l(new RegExp(b.substr(0,1).toLowerCase()+b.substr(1)+"$"),a.substr(0,1).toLowerCase()+a.substr(1)))};k(/$/,"s"),k(/s$/i,"s"),k(/(ax|test)is$/i,"$1es"),k(/(octop|vir)us$/i,"$1i"),k(/(alias|status)$/i,"$1es"),k(/(bu)s$/i,"$1ses"),k(/(buffal|tomat)o$/i,"$1oes"),k(/([ti])um$/i,"$1a"),k(/sis$/i,"ses"),k(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),k(/(hive)$/i,"$1s"),k(/([^aeiouy]|qu)y$/i,"$1ies"),k(/(x|ch|ss|sh)$/i,"$1es"),k(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),k(/([m|l])ouse$/i,"$1ice"),k(/^(ox)$/i,"$1en"),k(/(quiz)$/i,"$1zes"),l(/s$/i,""),l(/(n)ews$/i,"$1ews"),l(/([ti])a$/i,"$1um"),l(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"),l(/(^analy)ses$/i,"$1sis"),l(/([^f])ves$/i,"$1fe"),l(/(hive)s$/i,"$1"),l(/(tive)s$/i,"$1"),l(/([lr])ves$/i,"$1f"),l(/([^aeiouy]|qu)ies$/i,"$1y"),l(/(s)eries$/i,"$1eries"),l(/(m)ovies$/i,"$1ovie"),l(/(x|ch|ss|sh)es$/i,"$1"),l(/([m|l])ice$/i,"$1ouse"),l(/(bus)es$/i,"$1"),l(/(o)es$/i,"$1"),l(/(shoe)s$/i,"$1"),l(/(cris|ax|test)es$/i,"$1is"),l(/(octop|vir)i$/i,"$1us"),l(/(alias|status)es$/i,"$1"),l(/^(ox)en/i,"$1"),l(/(vert|ind)ices$/i,"$1ex"),l(/(matr)ices$/i,"$1ix"),l(/(quiz)zes$/i,"$1"),l(/(database)s$/i,"$1"),n("person","people"),n("man","men"),n("child","children"),n("sex","sexes"),n("move","moves"),n("cow","kine"),m("equipment"),m("information"),m("rice"),m("money"),m("species"),m("series"),m("fish"),m("sheep"),m("jeans");var o=function(a){var b,c=a.toLowerCase();for(b=0;b<i.length;b++){var d=i[b];if(c===d)return a}for(b=0;b<g.length;b++){var e=g[b][0],f=g[b][1];if(e.test(a))return a.replace(e,f)}},p=function(a){var b,c=a.toLowerCase();for(b=0;b<i.length;b++){var d=i[b];if(c===d)return a}for(b=0;b<h.length;b++){var e=h[b][0],f=h[b][1];if(e.test(a))return a.replace(e,f)}},q=function(a){for(var b=0;b<j.length;b++){var c=j[b][0],d=j[b][1];c.test(a)&&(a=a.replace(c,d))}return r(a," ").toLowerCase()},r=function(a,b){b=b||" ";var c="$1"+b+"$2";return a.replace(/([A-Z]+)([A-Z][a-z])/g,c).replace(/([a-z\d])([A-Z])/g,c)},s=function(a){return r(a,"_").toLowerCase()},t=function(a){return r(a,"-").toLowerCase()};a.inflection={pluralize:o,singularize:p,humanize:q,camelToTerms:r,underscore:s,dasherize:t},Array.prototype.isArray=!0,Object.defineProperty(Array.prototype,"isArray",{enumerable:!1,writable:!1});var u=function(){function a(a){return JSON.parse(JSON.stringify(a))}function b(a,b){for(var c in b){var d=new RegExp(":("+c+")\\b","g");d.test(a)&&(a=a.replace(d,b[c]),delete b[c])}return a}function c(a){var b=a?"?":"";for(var c in a)if(a[c].isArray)for(var d=0;d<a[c].length;d++)b+="?"===b?"":"&",b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c][d]);else b+="?"===b?"":"&",b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c]);return b}function d(a,b){this.$$id=b,"string"==typeof a&&(this.$$name=a.replace(/^\/?(.*?)\/?$/,"$1")),this.$$parent=null,this.$$params=null}return d.prototype.id=function(a){return void 0===a?this.$$id:(this.$$id=a,this)},d.prototype.name=function(a){return void 0===a?this.$$name:(this.$$name=a,this)},d.prototype.params=function(a){if(2===arguments.length)"undefined"==typeof arguments[1]?delete this.$$params[arguments[0]]:(this.$$params=this.$$params||{},this.$$params[arguments[0]]=arguments[1]);else if("object"==typeof a)for(var b in a)a.hasOwnProperty(b)&&("undefined"==typeof a[b]?delete this.$$params[b]:(this.$$params=this.$$params||{},this.$$params[b]=a[b]));return this},d.prototype.resource=function(a,b){var c=new d(a,b);return c.$$parent=this,c},d.prototype.$$toUrl=function(){var a="";return this.$$parent&&(a+=this.$$parent.$$toUrl()),"string"==typeof this.$$baseUrl?a=this.$$baseUrl:(this.$$name&&(a+="/"+this.$$name),this.$$id&&(a+="/"+this.$$id)),a},d.prototype.toUrl=function(){var d=this.$$toUrl();if(this.$$params){var e=a(this.$$params);d=b(d,e),d+=c(e)}return d},function(a,b){var c;return"object"==typeof a?(c=new d,c.$$baseUrl=a.baseUrl):c=new d(a,b),c}}();e.defaults.headers["Content-Type"]="application/json;charset=UTF-8",d(a);for(var v=!!v,w=0;w<v.length;w+=1)b(a,v[w],v[w].methods);window["myapi"]=a}()}({},function(){return this}());